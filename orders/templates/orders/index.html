{% extends "orders/base.html" %}
{% load static %}

<!-- Title -->
{% block title %} Menu {% endblock %}

<!-- JavaScript -->
{% block js %} <script src="{% static 'js/index.js' %}"></script> {% endblock %}

<!-- Body -->
{% block body %}

<!-- Heading -->
<div class="container index-header">

  <div class="row my-3">
    <div class="col-6">
      <strong>Welcome, <span id="user">{{ user.username }}</span>!</strong>
    </div>
    <div class="col-6 text-right">
      <a href="{% url 'logout' %}">Logout</a>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-6">
      <button id="add_to_order">+</button>
    </div>
    <div class="col-6 text-right">
      <form action="{% url 'orders' %}" method="get">
        <button>S</button>
      </form>
      <span id="number_of_items_ordered" class="w3-badge">0</span> items
    </div>
  </div>

</div>

<!-- Storage for Toppings & Extras -->
<div id="storage" data-storage_toppings="{{ toppings }}" data-storage_extras="{{ extras }}"></div>

<!-- Current Selections, HIDDEN -->
<div class="col-md-6 green" hidden>
  <div id="current_selections"></div>
  <span id="total_price"></span>
</div>

<div class="container">

  <!-- Logo -->
  <div class="row no-gutters">
    <div class="col-md-12 center my-3">
      <img src="{% static 'img/logo-01a-outline.svg' %}">  
    </div>
  </div>

  <!-- Menu  -->
  <div class="row no-gutters">

    <!-- LEFT/FIRST Menu Column -->
    <div class="col-md-6">
      <table>
        <tbody id="tbody">

          <!-- Regular Pizza -->
          <tr>
            <td><strong>Regular Pizza</strong></td>
            <td>Small</td>
            <td>Large</td>
          </tr>
          {% for item in menu %}
            {% if item.group == 'Regular Pizza' and item.item != 'Cheese' %}
              <tr id="{{ item.group }} + {{ item.item }}">
                <td>{{ item.item }}</td>
                <td>{{ item.price_sm }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_sm }}" name="{{ item.item }}" value="{{ item.price_sm }}" data-toppings="true" data-size="Small" /></td>  
                <td>{{ item.price_lg }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_lg }}" name="{{ item.item }}" value="{{ item.price_lg }}" data-toppings="true" data-size="Large" /></td>  
              </tr>
            {% elif item.group == 'Regular Pizza' and item.item == 'Cheese' %}
              <tr id="{{ item.group }} + {{ item.item }}">
                <td>{{ item.item }}</td>
                <td>{{ item.price_sm }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_sm }}" name="{{ item.item }}" value="{{ item.price_sm }}" data-size="Small"/></td>  
                <td>{{ item.price_lg }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_lg }}" name="{{ item.item }}" value="{{ item.price_lg }}" data-size="Large"/></td>  
              </tr>
            {% endif %}
          {% endfor %}

          <tr><td colspan=3><hr></td></tr>

          <!-- Sicialian Pizza -->
          <tr>
            <td><strong>Sicilian Pizza</strong></td>
            <td>Small</td>
            <td>Large</td>
          </tr>
          {% for item in menu %}
            {% if item.group == 'Sicilian Pizza' and item.item != 'Cheese' %}
            <tr id="{{ item.group }} + {{ item.item }}">
              <td>{{ item.item }}</td>
              <td>{{ item.price_sm }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_sm }}" name="{{ item.item }}" value="{{ item.price_sm }}" data-toppings="true" data-size="Small"/></td>  
              <td>{{ item.price_lg }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_lg }}" name="{{ item.item }}" value="{{ item.price_lg }}" data-toppings="true" data-size="Large"/></td>  
            </tr>
            {% elif item.group == 'Sicilian Pizza' and item.item == 'Cheese' %}
              <tr id="{{ item.group }} + {{ item.item }}">
                <td>{{ item.item }}</td>
                <td>{{ item.price_sm }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_sm }}" name="{{ item.item }}" value="{{ item.price_sm }}" data-size="Small"/></td>  
                <td>{{ item.price_lg }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_lg }}" name="{{ item.item }}" value="{{ item.price_lg }}" data-size="Large"/></td>  
              </tr>
            {% endif %}
          {% endfor %}

          <tr><td colspan=3><hr></td></tr>

          <!-- Pasta -->
          <tr>
            <td><strong>Pasta</strong></td>
            <td>Price</td>
          </tr>
          {% for item in menu %}
            {% if item.group == 'Pasta' %}
              <tr>
                <td>{{ item.item }}</td>
                <td>{{ item.price }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price }}" name="{{ item.item }}" value="{{ item.price }}" data-toppings="false" /></td>  
              </tr>
            {% endif %}
          {% endfor %}
  
          <tr><td colspan=3><hr></td></tr>

          <!-- Salads -->
          <tr>
            <td><strong>Salads</strong></td>
            <td>Price</td>
          </tr>
          {% for item in menu %}
            {% if item.group == 'Salads' %}
            <tr>
              <td>{{ item.item }}</td>
              <td>{{ item.price }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price }}" name="{{ item.item }}" value="{{ item.price }}" data-toppings="false" /></td>  
            </tr>
            {% endif %}
          {% endfor %}

          <tr><td colspan=3><hr></td></tr>

        </tbody>
      </table>
    </div>


    <!-- RIGHT/SECOND Menu Column -->
    <div class="col-md-6">
      <table>
        <tbody id="tbody_extra">

          <!-- Subs -->
          <tr>
            <td><strong>Subs</strong></td>
            <td>Small</td>
            <td>Large</td>
          </tr>
          {% for item in menu %}
            {% if item.group == 'Subs' and item.item != 'Sausage, Peppers & Onions' %}
            <tr id="{{ item.group }} + {{ item.item }}">
                <td>{{ item.item }}</td>
                <td>{{ item.price_sm }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_sm }}" name="{{ item.item }}" value="{{ item.price_sm }}" data-extras="true" data-size="Small" /></td>  
                <td>{{ item.price_lg }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_lg }}" name="{{ item.item }}" value="{{ item.price_lg }}" data-extras="true" data-size="Large" /></td>  
              </tr>
            {% elif item.group == 'Subs' and item.item == 'Sausage, Peppers & Onions' %}
              <tr id="{{ item.group }} + {{ item.item }}">
                <td>{{ item.item }}</td>
                <td></td>
                <td>{{ item.price_lg }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_lg }}" name="{{ item.item }}" value="{{ item.price_lg }}" data-extras="true" data-size="Large" /></td>  
              </tr>  
            {% endif %}
          {% endfor %}

          <tr><td colspan=3><hr></td></tr>

          <!-- Dinner Platters -->
          <tr>
            <td><strong>Dinner Platters</strong></td>
            <td>Small</td>
            <td>Large</td>
          </tr>
          {% for item in menu %}
            {% if item.group == 'Dinner Platters' %}
            <tr>
              <td>{{ item.item }}</td>
              <td>{{ item.price_sm }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_sm }}" name="{{ item.item }}" value="{{ item.price_sm }}" data-toppings="false" data-size="Small"/></td>  
              <td>{{ item.price_lg }} <input type="checkbox" data-group = "{{ item.group }}" data-tr_id="{{ item.group }} + {{ item.item }}" data-td_id="{{ item.item }} + {{ item.price_lg }}" name="{{ item.item }}" value="{{ item.price_lg }}" data-toppings="false" data-size="Large"/></td>  
            </tr>
            {% endif %}
          {% endfor %}

          <tr><td colspan=3><hr></td></tr>

        </tbody>
      </table>
    </div>
  </div>

{% endblock %}